{% extends 'dashboard/base.html' %}

{% block title %}Inicio{% endblock %}
{% block page_title %}Bienvenido al Dashboard{% endblock %}

{% block content %}
<div class="stats-grid">
    <div class="stat-card">
        <div class="stat-icon">
            <i class="fas fa-users"></i>
        </div>
        <div class="stat-content">
            <h3>Total Usuarios</h3>
            <p>{{ total_usuarios }}</p>
        </div>
    </div>
    
    <div class="stat-card">
        <div class="stat-icon">
            <i class="fas fa-cash-register"></i>
        </div>
        <div class="stat-content">
            <h3>Estado de Caja</h3>
            <p>{% if caja_abierta %}<span class="badge badge-success">ABIERTA</span>{% else %}<span class="badge badge-danger">CERRADA</span>{% endif %}</p>
        </div>
    </div>
    
    <div class="stat-card">
        <div class="stat-icon">
            <i class="fas fa-money-bill-wave"></i>
        </div>
        <div class="stat-content">
            <h3>Dinero en Caja</h3>
            <p>${{ caja_dinero|floatformat:0 }}</p>
        </div>
    </div>
    
    <div class="stat-card">
        <div class="stat-icon">
            <i class="fas fa-file-invoice"></i>
        </div>
        <div class="stat-content">
            <h3>Facturas del Mes</h3>
            <p>{{ facturas_mes }}</p>
        </div>
    </div>
</div>

<div class="card">
    <div class="card-header">
        <h2 class="card-title">
            <i class="fas fa-info-circle"></i> Información del Sistema
        </h2>
    </div>
    <div style="padding: 20px;">
        <p style="font-size: 16px; line-height: 1.8; color: var(--text-muted);">
            Bienvenido al nuevo Dashboard de <strong style="color: var(--light-green);">Renzzo Eléctricos</strong>. 
            Desde aquí puedes gestionar todos los aspectos de tu negocio de manera eficiente y organizada.
        </p>
        
        <div style="margin-top: 30px; display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
            <a href="{% url 'dashboard_usuarios' %}" class="btn btn-primary" style="text-decoration: none; justify-content: center;">
                <i class="fas fa-users"></i> Ver Usuarios
            </a>
            <a href="{% url 'caja:dashboard' %}" class="btn btn-primary" style="text-decoration: none; justify-content: center;">
                <i class="fas fa-cash-register"></i> Ir a Caja
            </a>
            <a href="{% url 'facturacion:index' %}" class="btn btn-primary" style="text-decoration: none; justify-content: center;">
                <i class="fas fa-file-invoice-dollar"></i> Facturación
            </a>
            <a href="{% url 'dashboard_estadisticas' %}" class="btn btn-primary" style="text-decoration: none; justify-content: center;">
                <i class="fas fa-chart-line"></i> Estadísticas
            </a>
        </div>
    </div>
</div>

<div class="card">
    <div class="card-header">
        <h2 class="card-title">
            <i class="fas fa-clock"></i> Actividad Reciente
        </h2>
    </div>
    <div style="padding: 20px;">
        <p style="color: var(--text-muted);">
            <i class="fas fa-exchange-alt"></i> Movimientos de hoy: <strong style="color: var(--light-green);">{{ movimientos_hoy }}</strong>
        </p>
        <p style="color: var(--text-muted); margin-top: 10px;">
            <i class="fas fa-calendar-alt"></i> Fecha y hora actual: <strong style="color: var(--light-green);">{% now "d/m/Y H:i" %}</strong>
        </p>
    </div>
</div>
{% endblock %}
